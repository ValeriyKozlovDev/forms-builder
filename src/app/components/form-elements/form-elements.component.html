<div cdkDropListGroup class="container">

  <mat-grid-list cols="3" rowHeight="1000px">

    <mat-grid-tile>
      <div class="wrapper">
        <cdk-accordion class="accordion">
          <cdk-accordion-item *ngFor="let item of items; let index = index;" #accordionItem="cdkAccordionItem"
            class="accordion-item" role="button" tabindex="0" [attr.id]="'accordion-header-' + index"
            [attr.aria-expanded]="accordionItem.expanded" [attr.aria-controls]="'accordion-body-' + index">
            <div class="text accordion-item-header" (click)="accordionItem.toggle()">
              {{ item }}
              <span class="text accordion-item-description">
                {{ accordionItem.expanded ? 'close' : 'open' }}
              </span>
            </div>
            <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
              [attr.id]="'accordion-body-' + index" [attr.aria-labelledby]="'accordion-header-' + index">
              <div *ngIf="item === 'Form Styles'; else field">


                <mat-form-field class="accordion__form-label">
                  <mat-label>Form label</mat-label>
                  <input matInput>
                </mat-form-field>



                <mat-grid-list cols="2" rowHeight="100px">
                  <mat-grid-tile>
                    <mat-form-field class="accordion__field">
                      <mat-label>Text Color</mat-label>
                      <mat-grid-list cols="2" rowHeight="25px">
                        <mat-grid-tile>
                          <input matInput>
                        </mat-grid-tile>
                        <mat-grid-tile>
                          <input type="color">
                        </mat-grid-tile>
                      </mat-grid-list>
                    </mat-form-field>
                  </mat-grid-tile>
                  <mat-grid-tile>
                    <mat-form-field class="accordion__field">
                      <mat-label>Background</mat-label>
                      <input matInput>
                    </mat-form-field>
                  </mat-grid-tile>
                </mat-grid-list>



                <mat-grid-list cols="2" rowHeight="100px">
                  <mat-grid-tile>
                    <mat-form-field appearance="fill">
                      <mat-label>Border type</mat-label>
                      <mat-select [(ngModel)]="selectedValue" name="food">
                        <div *ngIf="borderTypes$ | async as borderTypes">
                          <mat-option *ngFor="let borderType of borderTypes; let i = index" [value]="borderType">
                            {{borderType}}
                          </mat-option>
                        </div>
                      </mat-select>
                    </mat-form-field>
                  </mat-grid-tile>
                  <mat-grid-tile>
                    <mat-form-field class="accordion__field">
                      <mat-label>Border Color</mat-label>
                      <input matInput>
                    </mat-form-field>
                  </mat-grid-tile>
                </mat-grid-list>

              </div>

              <ng-template #field>
                <div *ngIf="styles$ | async as styles">
                  <mat-grid-list cols="2" rowHeight="100px">
                    <div *ngFor="let style of styles['input']; let i = index" class="accordion__styles-container">
                      <mat-grid-tile>
                        <mat-form-field class="accordion__styles">
                          <mat-label>{{style}}</mat-label>
                          <input matInput>
                        </mat-form-field>
                      </mat-grid-tile>
                    </div>
                  </mat-grid-list>
                </div>
              </ng-template>

            </div>
          </cdk-accordion-item>
        </cdk-accordion>
      </div>
    </mat-grid-tile>

    <mat-grid-tile>
      <div class="selected-form wrapper form-label">
        <div class="text text_middle selected-form__label">Form label</div>
        <div cdkDropList [cdkDropListData]="selectedElements" class="selected-form__list"
          (cdkDropListDropped)="drop($event)">
          <div class="text selected-form__elems" *ngFor="let item of selectedElements; let i = index" cdkDrag>
            <div *ngIf="item === 'input'" class="selected-form__input">
              <input type="text" value="input">
            </div>
            <div *ngIf="item === 'button'" class="selected-form__button">
              <button [ngStyle]="">button</button>
            </div>
            <div *ngIf="item === 'textarea'" class="selected-form__textarea">
              <textarea name="" id="" cols="30" rows="5">textarea</textarea>
            </div>
            <div *ngIf="item === 'checkbox'" class="selected-form__checkbox">
              <input type="checkbox" id=`check{{i}}` value="option">
              <label for=`check{{i}}`>option</label>
            </div>
            <div *ngIf="item === 'select'" class="selected-form__select">
              <select>Select</select>
            </div>
          </div>
        </div>
      </div>
      <div class="save-form"><button mat-raised-button class="save-form__button">Save form</button></div>

    </mat-grid-tile>

    <mat-grid-tile>
      <div *ngIf="fields$ | async as fields" class="wrapper">
        <div cdkDropList [cdkDropListData]="listElements" cdkDropListSortingDisabled class="list"
          (cdkDropListDropped)="drop($event)">
          <div class="text box" *ngFor="let field of fields; let i = index" cdkDrag>{{field[0].toUpperCase() +
            field.slice(1)}}</div>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
</div>
