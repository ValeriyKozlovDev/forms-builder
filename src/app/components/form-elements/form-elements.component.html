<div cdkDropListGroup class="container">

  <mat-grid-list cols="3" rowHeight="350px">

    <mat-grid-tile>
      <div class="wrapper">
        <cdk-accordion class="accordion">
          <cdk-accordion-item *ngFor="let item of items; let index = index;" #accordionItem="cdkAccordionItem"
            class="accordion-item" role="button" tabindex="0" [attr.id]="'accordion-header-' + index"
            [attr.aria-expanded]="accordionItem.expanded" [attr.aria-controls]="'accordion-body-' + index">
            <div class="text accordion-item-header" (click)="accordionItem.toggle()">
              {{ item }}
              <span class="text accordion-item-description">
                {{ accordionItem.expanded ? 'close' : 'open' }}
              </span>
            </div>
            <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
              [attr.id]="'accordion-body-' + index" [attr.aria-labelledby]="'accordion-header-' + index">
              <div *ngIf="item === 'Form Styles'; else field">


                <mat-form-field class="accordion__form-label">
                  <mat-label>Form label</mat-label>
                  <input matInput>
                </mat-form-field>



                <mat-grid-list cols="2" rowHeight="100px">
                  <mat-grid-tile>
                    <mat-form-field class="accordion__field">
                      <mat-label>Text Color</mat-label>
                      <input matInput>
                    </mat-form-field>
                  </mat-grid-tile>
                  <mat-grid-tile>
                    <mat-form-field class="accordion__field">
                      <mat-label>Background</mat-label>
                      <input matInput>
                    </mat-form-field>
                  </mat-grid-tile>
                </mat-grid-list>



                <mat-grid-list cols="2" rowHeight="100px">
                  <mat-grid-tile>
                    <mat-form-field appearance="fill">
                      <mat-label>Border type</mat-label>
                      <mat-select [(ngModel)]="selectedValue" name="food">
                        <mat-option *ngFor="let food of foods" [value]="food.value">
                          {{food.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-grid-tile>
                  <mat-grid-tile>
                    <mat-form-field class="accordion__field">
                      <mat-label>Border Color</mat-label>
                      <input matInput>
                    </mat-form-field>
                  </mat-grid-tile>
                </mat-grid-list>

              </div>
              <ng-template #field>
                Field
              </ng-template>
            </div>
          </cdk-accordion-item>
        </cdk-accordion>
      </div>
    </mat-grid-tile>

    <mat-grid-tile>
      <div class="wrapper form-label">
        <div class="text text_middle">Form label</div>
        <div cdkDropList [cdkDropListData]="selectedElements" class="list" (cdkDropListDropped)="drop($event)">
          <div class="text box" *ngFor="let item of selectedElements" cdkDrag>{{item}}</div>
        </div>
      </div>
      <div class="save-form"><button class="save-form__button">Save form</button></div>

    </mat-grid-tile>

    <mat-grid-tile>
      <div class="wrapper">
        <div cdkDropList [cdkDropListData]="listElements" cdkDropListSortingDisabled class="list"
          (cdkDropListDropped)="drop($event)">
          <div *ngIf="fields$ | async as fields">
            <div class="text box" *ngFor="let field of fields" cdkDrag>{{field}}</div>
          </div>
          <!-- <div class="text box" *ngFor="let item of listElements" cdkDrag>{{item}}</div> -->
        </div>

      </div>

    </mat-grid-tile>

  </mat-grid-list>

</div>
